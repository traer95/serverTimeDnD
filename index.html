<!DOCTYPE html>
<html lang="en">
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>Timesync for DnD</title>
    <script language="javascript" src="serverTime.js"></script>
    <script language="javascript">
        //document.write("Local machine time is: " + localTime + "<br>");
        var date;
        var current_time;
        var get_time = function () {
            let options = {
                    timeZone: 'Europe/Berlin',
                    hour: 'numeric',
                    minute: 'numeric',
                    second: 'numeric',
                },
                formatter = new Intl.DateTimeFormat([], options);

            date =  formatter.format(new Date());
            document.getElementById("display").innerHTML ="Server time is: " + date;
        };


        //var localTime = new Date();
        //setInterval(function () {
            //var st = srvTime();

            //var time = date.getHours() + ":" + date.getMinutes() + ":" + date.getSeconds();
            //console.log("why: "+date);

            //console.log(+Date.now() + timeDiff);
        //}, 100);

        var cnt_time = function () {
            current_time = date.getTime() + 250;
            document.getElementById("display").innerHTML ="Server time is: " + current_time;
            date = current_time;
        };

        setInterval(cnt_time, 250);
        setInterval(get_time,30250);
        get_time()

    </script>
</head>
<body>
<div id="display">

</div>
</body>
</html>